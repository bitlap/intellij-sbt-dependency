<?xml version="1.0" encoding="UTF-8"?>
<idea-plugin>
    <id>org.bitlap.sbtDependencyAnalyzer</id>
    <name>Sbt Dependency Analyzer</name>
    <version>0.1.4-231.9392.1</version>
    <vendor url="https://github.com/bitlap/intellij-sbt-dependency-analyzer" email="dreamylost@outlook.com">Bitlap
    </vendor>
    <idea-version since-build="231.0"/>

    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.modules.lang</depends>
    <depends>org.intellij.scala</depends>
    <depends>com.intellij.properties</depends>
    <depends>com.intellij.modules.externalSystem</depends>
    <resource-bundle>messages.SbtDependencyAnalyzerBundle</resource-bundle>

    <extensions defaultExtensionNs="com.intellij">
        <externalSystemDependencyAnalyzer implementation="bitlap.sbt.analyzer.SbtDependencyAnalyzerExtension"/>
        <notificationGroup id="Sbt.DependencyAnalyzer.Notification" displayType="BALLOON"/>
        <notificationGroup id="Sbt.DependencyAnalyzer.UpdateNotification" displayType="BALLOON"/>

        <registryKey key="bitlap.sbt.analyzer.bundle.SbtDependencyAnalyzerBundle"
                     defaultValue="true" restartRequired="false"
                     description="Force translation for notification"/>

        <postStartupActivity implementation="bitlap.sbt.analyzer.component.PluginUpdateActivityListener"/>

    </extensions>

    <actions>
        <action id="Sbt.ViewDependencyAnalyzer" class="bitlap.sbt.analyzer.ViewDependencyAnalyzerAction"/>
        <action id="Sbt.ToolbarDependencyAnalyzer" class="bitlap.sbt.analyzer.ToolbarDependencyAnalyzerAction"/>
        <action id="Sbt.ProjectViewDependencyAnalyzer"
                class="bitlap.sbt.analyzer.ProjectViewDependencyAnalyzerAction">
            <add-to-group group-id="ProjectViewPopupMenu" anchor="before" relative-to-action="UML.Group"/>
        </action>
        <action id="Sbt.DependencyAnalyzer.OpenConfig"
                class="bitlap.sbt.analyzer.SbtDependencyAnalyzerOpenConfigAction">
            <add-to-group group-id="ExternalSystem.DependencyAnalyzer.DependencyListGroup"/>
            <add-to-group group-id="ExternalSystem.DependencyAnalyzer.DependencyTreeGroup"/>
            <add-to-group group-id="ExternalSystem.DependencyAnalyzer.UsagesTreeGroup"/>
        </action>
        <action id="Sbt.DependencyAnalyzer.GoTo" class="bitlap.sbt.analyzer.SbtDependencyAnalyzerGoToAction">
            <add-to-group group-id="ExternalSystem.DependencyAnalyzer.DependencyListGroup"/>
            <add-to-group group-id="ExternalSystem.DependencyAnalyzer.DependencyTreeGroup"/>
            <add-to-group group-id="ExternalSystem.DependencyAnalyzer.UsagesTreeGroup"/>
        </action>
        <action id="Sbt.DependencyAnalyzer.RefreshDependencies" class="bitlap.sbt.analyzer.SbtRefreshDependenciesAction">
            <add-to-group group-id="ExternalSystem.DependencyAnalyzer.DependencyListGroup"/>
            <add-to-group group-id="ExternalSystem.DependencyAnalyzer.DependencyTreeGroup"/>
            <add-to-group group-id="ExternalSystem.DependencyAnalyzer.UsagesTreeGroup"/>
        </action>

        <action id="Sbt.WhatsNewInSbtDependencyAnalyzer"
                class="bitlap.sbt.analyzer.component.WhatsNewAction">
            <add-to-group group-id="HelpMenu" anchor="after" relative-to-action="WhatsNewAction"/>
        </action>

        <group id="Sbt.View.ProjectMenu">
            <separator/>
            <reference id="Sbt.ViewDependencyAnalyzer"/>
            <separator/>
            <add-to-group group-id="ExternalSystemView.ProjectMenu" anchor="last"/>
        </group>

        <group id="Sbt.View.ModuleMenu">
            <separator/>
            <reference id="Sbt.ViewDependencyAnalyzer"/>
            <separator/>
            <add-to-group group-id="ExternalSystemView.ModuleMenu" anchor="last"/>
        </group>

        <group id="Sbt.View.DependencyMenu">
            <separator/>
            <reference id="Sbt.ViewDependencyAnalyzer"/>
            <separator/>
            <add-to-group group-id="ExternalSystemView.DependencyMenu" anchor="last"/>
        </group>

        <group id="Sbt.View.ActionsToolbar.CenterPanel">
            <separator/>
            <reference id="Sbt.ToolbarDependencyAnalyzer"/>
            <separator/>
            <add-to-group group-id="ExternalSystemView.ActionsToolbar.CenterPanel" anchor="last"/>
        </group>
    </actions>

    <description>
        <![CDATA[
        <h1>Sbt Dependency Analyzer for IntelliJ IDEA</h1>
        <a href="https://github.com/bitlap/intellij-sbt-dependency-analyzer">GitHub</a> |
        <a href="https://github.com/bitlap/intellij-sbt-dependency-analyzer/issues">Issues</a>
        <br/>
        <br/>
        Adds support for the SBT. The following features are available for free with IntelliJ IDEA:
        <ul>
              <li>Show Dependency Tree</li>
              <li>Show Conflicts</li>
              <li>Search Dependencies</li>
              <li>Locate Dependency (multi-module)</li>
              <li>Show dependencies between modules</li>
        </ul>
        <br/>
        Visit GitHub for instructions on how to properly use this plugin!</br>
      ]]>
    </description>
    <change-notes>
        <![CDATA[
            <h1>0.1.4-231.9392.1</h1>
            <ul>
                <li>Locale zn_CN translation for notification.</li>
                <li>Plugin update notification.</li>
                <li>Add What's New action.</li>
            </ul>
            
            <h1>0.1.3-231.9392.1</h1>
            <ul>
                <li>Fix module recognition failure when analyzing cross-build projects for Scala2 and Scala3.</li>
                <li>Improve notification,stop immediately when an exception occurs during the first task execution.</li>
            </ul>
            
            <h1>0.1.2-231.9392.1</h1>
            <ul>
                <li>Improving Error Notification.</li>
                <li>Support for older versions of sbt.</li>
                <li>Other improvements.</li>
            </ul>
            
            <h1>0.1.1-231.9392.1</h1>
            <ul>
                <li>Fix bug: Goto action can match scala library.</li>
                <li>Add refresh action.</li>
                <li>Add bootstrap prompt and automatically add the `addDependencyTreePlugin`.</li>
            </ul>
            
            <h1>0.1.0-231.9392.1</h1>
            <ul>
                <li>Update Action Name.</li>
                <li>Cache files for one hour.</li>
                <li>Refactor code.</li>
            </ul>
            
            <h1>0.1.0-231.9392.1-M7</h1>
            <ul>
                <li>ðŸ”¥Show Conflict omitted status.</li>
                <li>ðŸ”¥Support Scala Js and Scala native.</li>
            </ul>
            
            <h1>0.1.0-231.9392.1-M6</h1>
            <ul>
                <li>ðŸ”¥Highlight module dependencies.</li>
            </ul>
            
            <h1>0.1.0-231.9392.1-M5</h1>
            <ul>
                <li>ðŸ”¥Significantly improve performance.</li>
            </ul>    
            
            <h1>0.1.0-231.9392.1-M4</h1>
            <ul>
                <li>ðŸ”¥ First Blood.</li>
            </ul>    
        ]]>
    </change-notes>

</idea-plugin>
